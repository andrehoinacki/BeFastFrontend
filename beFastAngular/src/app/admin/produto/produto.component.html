<H1>Cadastro de Produto</H1>

<div class="container">
  <div class="alert alert-warning" *ngIf="produtoForm.dirty && produtoForm.invalid">Enter valid values</div>
  
  <form (ngSubmit)="!produtoForm.invalid && saveProduto()" #produtoForm="ngForm">
    <div class="row">
      <fieldset class="col-md-6">
        <label>Código:* </label>
        <input type="text" #nome="ngModel" 
              [(ngModel)]="produto.codigo" class="form-control" 
                  name="codigo" required="required" >
      </fieldset>
      <fieldset class="col-md-6">
        <label>Descricao:* </label>
        <input type="text" #nome="ngModel" 
              [(ngModel)]="produto.descricao" class="form-control" 
                  name="descricao" required="required" >
      </fieldset>
    </div>
    <div class="row">
      <fieldset class="col-md-4">
        <label>Quantidade:* </label>
        <input type="number" #username="ngModel" 
              [(ngModel)]="produto.quantidade" class="form-control" 
                  name="quantidade" required="required" min="1">
      </fieldset>
      <fieldset class="col-md-4">
        <label>Valor:* </label>
        <input type="number" #username="ngModel" 
              [(ngModel)]="produto.valor" class="form-control" 
                  name="valor" required="required">
      </fieldset>
      <fieldset class="col-md-4">
          <label>Valor Calórico:* </label>
          <input type="number" #username="ngModel" min="0"
                [(ngModel)]="produto.valorCalorico" class="form-control" 
                    name="valorCalorico" required="required">
        </fieldset>
    </div>
    <div class="row">
      <fieldset class="col-md-6">
        <label>Categoria: </label>
      </fieldset>
      <fieldset class="col-md-6">
          <label>Restricões: </label> <label style="font-size: smaller"> (Podem ser selecionadas mais de uma restrição) </label>
      </fieldset>
    </div>
    <div class="row">
      <fieldset class="col-md-6">
        <div style="display:inline" *ngFor="let item of listCategoria">
            <input type="radio" [(ngModel)]="selectedCategoriaNome" name="list_item" value ="{{item.nome}}" (change)="onItemChangeCategoria(item)"/> 
            {{item.nome}}
        </div>
      </fieldset>
      <fieldset class="col-md-6">
          <div style="display:inline" *ngFor="let r of listRestricao">
              <input type="checkbox" checked ="{{r.checked}}" name=restricoes value={{r}} (change)="onItemChangeRestricao(r)"/> 
              {{r.nome}}
          </div>
        </fieldset>
    </div>
    <div class="row" style="margin-top: 40px;">
      <div class="col-md-12">
        <p>Campos marcados com (*) são obrigatórios!</p>
      </div>
      <div class="col-md-12">
        <button style="margin-right: 15px;" (click)="cancelar()" class="btn btn-danger">Cancelar</button>
        <button type="submit" class="btn btn-success">Salvar</button>
      </div>
    </div>
  </form>  
</div>
