<H1>Cadastro de Usuário</H1>

<div class="container">
  <div class="alert alert-warning" *ngIf="usuarioForm.dirty && usuarioForm.invalid">Enter valid values</div>
  
  <form (ngSubmit)="!usuarioForm.invalid && saveUsuario()" #usuarioForm="ngForm">
    <fieldset class="form-group" style="float:left; width: 50%; margin-right: 100px;">
      <label>Nome:*</label>
      <input type="text" #nome="ngModel" 
            [(ngModel)]="usuario.nome" class="form-control" 
                name="nome" required="required" >
    </fieldset>
    <fieldset class="form-group"  style="float: left; width: 50%; margin-right: 100px;">
        <label>Matricula: </label>
        <input type="text" #nome="ngModel" 
              [(ngModel)]="usuario.matricula" class="form-control" 
                  name="matricula" >
      </fieldset>
    <fieldset class="form-group" >
      <label>Login:*</label>
      <input type="text" #username="ngModel" 
            [(ngModel)]="usuario.username" class="form-control" 
                name="username" required="required" >
    </fieldset>
    <fieldset class="form-group" >
      <label>Senha:*</label>
      <input type="password" #password="ngModel" 
            [(ngModel)]="usuario.password" class="form-control" 
                name="password" required="required" >
    </fieldset>
    <fieldset class="form-group" style="float: left;margin-right: 100px;">
        <label>Role:*</label>
        <div class="list-group-item"  *ngFor="let item of listRole">
            <input type="radio" [(ngModel)]="selectedRoleNome" name="list_name" value ="{{item.nome}}" (change)="onItemChange(item)"/> 
            {{item.nome}}

        </div>
    </fieldset>
    <fieldset class="form-group" style="float: right;margin-left: 50px;margin-top: 40px;">
      <div>
        <label style="margin-right: 10px;" *ngIf="isCalorico">Valor Calórico:* </label>
        <input type="text" #valorCalorico="ngModel" *ngIf="isCalorico" 
            [(ngModel)]="usuario.valorCalorico" name="valorCalorico"  >
      </div>
    </fieldset>
    <fieldset class="form-group" style="margin-right: 50px;">
      <label>Restricões:</label>
      <div class="list-group-item" *ngFor="let r of listRestricao; let i = index;" > 
          <input type="checkbox" checked ="{{r.checked}}" name=restricoes value={{r}} (change)="onItemChangeRestricao(r)"/> 
          {{r.nome}}
      </div>      
    </fieldset>    
    <fieldset class="form-group" style="margin-top: 90px;">
      <p>Campos marcados com (*) são obrigatórios!</p>
      <button style="margin-right: 15px;" (click)="cancelar()" class="btn btn-danger">Cancelar</button>
      <button type="submit" class="btn btn-success">Salvar</button>          
    </fieldset>
  </form>  
</div>
